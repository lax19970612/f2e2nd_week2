(this.webpackJsonpf2e2nd_week2=this.webpackJsonpf2e2nd_week2||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(7),i=n.n(c),o=n(4),s=(n(14),n(0)),l=function(e){var t=e.timer,n=e.toggleTimer,a=e.restart,r="".concat(Math.floor(t/60).toString().padStart(2,"0"),":").concat((t%60).toString().padStart(2,"0"));return Object(s.jsxs)("div",{className:"header-bar",children:[Object(s.jsxs)("div",{className:"logo",children:[Object(s.jsx)("span",{children:"FREE"}),Object(s.jsx)("span",{children:"CELL"})]}),Object(s.jsx)("div",{className:"timer",children:r}),Object(s.jsx)("div",{className:"game-handle",children:Object(s.jsxs)("ul",{className:"game-handle-list",children:[Object(s.jsx)("li",{className:"game-handle-list-item handle-undo",onClick:function(){return alert("\u54c8\u54c8\u54c8\u9084\u60f3\u53cd\u6094\u963f")},children:"UNDO"}),Object(s.jsx)("li",{className:"game-handle-list-item handle-pause",onClick:function(){return n()},children:"PAUSE"}),Object(s.jsx)("li",{className:"game-handle-list-item handle-restart",onClick:function(){return a()},children:"RESTART"})]})})]})},u=n(3),d=(n(16),["spade","heart","diamond","club"]),f=function(e){var t=e.from,n=e.row,a=e.value,r=d[Math.floor(a/13)],c=a%13+1;return Object(s.jsx)("div",{className:"card card-".concat(r,"-").concat(c),draggable:"true",onDragStart:function(e){e.dataTransfer.setData("data",JSON.stringify({from:t,row:n,value:a}))}})},j=n(8),O=n(9),v=function(){function e(){Object(j.a)(this,e)}return Object(O.a)(e,null,[{key:"GetRandomCardList",value:function(){for(var t=new Array(e.ROW_NUMBER).fill([]),n=0;n<e.CARD_LENGTH;++n){var a=n%e.ROW_NUMBER,r=e.getRandCardNum();t[a]=[].concat(Object(u.a)(t[a]),[r])}return t}},{key:"GetListData",value:function(e,t){switch(t){case"opencell":return e.openCellList;case"foundation":return e.foundation;case"main":default:return e.mainCardList}}},{key:"IsMoveValid",value:function(t,n,a,r){switch(t){case"foundation":return e.isMoveToFoundationValid(n,a,r);case"opencell":return e.isMoveToOpenCellValid(a,r);case"main":default:return e.isMoveToOtherRowValid(a,r)}}},{key:"isMoveToOpenCellValid",value:function(e,t){return!e.length&&1===t.length}},{key:"isMoveToFoundationValid",value:function(e,t,n){if(1!==n.length)return!1;switch(e){case 0:return!(n[0]>12)&&n[0]-t.length===0;case 1:return!(n[0]>25||n[0]<13)&&n[0]-t.length===13;case 2:return!(n[0]>38||n[0]<26)&&n[0]-t.length===26;case 3:return!(n[0]>51||n[0]<39)&&n[0]-t.length===39;default:return!1}}},{key:"isMoveToOtherRowValid",value:function(e,t){if(!e.length)return!0;var n=Math.abs(e[e.length-1]-t[0]);return 12===n||14===n||25===n||27===n}}]),e}();v.ROW_NUMBER=8,v.CARD_LENGTH=52,v.FOUNDATION_LENGTH=4,v.OPEN_CELL_LENGTH=4,v.isUsed=new Array(v.CARD_LENGTH).fill(!1),v.getRandCardNum=function(){for(var e;;)if(e=Math.floor(Math.random()*v.CARD_LENGTH),!v.isUsed[e])return v.isUsed[e]=!0,e};var p=function(e){var t=e.row,n=e.type,a=e.cards,r=e.dropEvent,c=function(e){return e.preventDefault(),e.stopPropagation(),!1};return Object(s.jsx)("div",{className:"card-group",onDrop:function(e){c(e);var a=JSON.parse(e.dataTransfer.getData("data")),i=[a.from,a.row,a.value],o=i[0],s=i[1],l=i[2];r((function(e){var a=JSON.parse(JSON.stringify(e)),r=v.GetListData(a,o),c=v.GetListData(a,n),i=r[s].findIndex((function(e){return e===l})),d=r[s].slice(i);return v.IsMoveValid(n,t,c[t],d)&&(r[s].splice(i),c[t]=[].concat(Object(u.a)(c[t]),Object(u.a)(d))),a}))},onDragEnter:c,onDragOver:c,children:a.map((function(e){return Object(s.jsx)(f,{from:n,row:t,value:e},e)}))})},m=function(e){var t=e.cards,n=e.dropEvent;return Object(s.jsx)("div",{className:"open-cells-wrapper",children:t.map((function(e,t){return Object(s.jsx)("div",{className:"cell-wrapper",children:Object(s.jsx)(p,{type:"opencell",row:t,cards:e,dropEvent:n})},"open-cell-row-".concat(t))}))})},h=["spade","heart","diamond","club"],b=function(e){var t=e.cards,n=e.dropEvent;return Object(s.jsx)("div",{className:"foundation-wrapper",children:t.map((function(e,t){return Object(s.jsx)("div",{className:"cell-wrapper foundation-box-".concat(h[t]),children:Object(s.jsx)(p,{type:"foundation",row:t,cards:e,dropEvent:n})},"Foundation-row-".concat(t))}))})},N=(n(17),function(){var e=Object(a.useState)({foundation:new Array(v.FOUNDATION_LENGTH).fill([]),mainCardList:new Array(v.ROW_NUMBER).fill([]),openCellList:new Array(v.OPEN_CELL_LENGTH).fill([])}),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({foundation:new Array(v.FOUNDATION_LENGTH).fill([]),mainCardList:new Array(v.ROW_NUMBER).fill([]),openCellList:new Array(v.OPEN_CELL_LENGTH).fill([])}),i=Object(o.a)(c,2),u=i[0],d=i[1],f=Object(a.useState)(0),j=Object(o.a)(f,2),O=j[0],h=j[1],N=Object(a.useState)(!0),E=Object(o.a)(N,2),L=E[0],g=E[1];return Object(a.useEffect)((function(){var e=v.GetRandomCardList(),t={foundation:new Array(v.FOUNDATION_LENGTH).fill([]),mainCardList:e,openCellList:new Array(v.OPEN_CELL_LENGTH).fill([])};r(t),d(t)}),[]),Object(a.useEffect)((function(){var e;return L&&(e=setInterval((function(){h((function(e){return e+1}))}),1e3)),function(){return clearInterval(e)}}),[L]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(l,{timer:O,toggleTimer:function(){g((function(e){return!e}))},restart:function(){return r(u)}}),Object(s.jsxs)("div",{className:"stacking-area",children:[Object(s.jsx)(m,{cards:n.openCellList,dropEvent:r}),Object(s.jsx)(b,{cards:n.foundation,dropEvent:r})]}),Object(s.jsx)("div",{className:"main",children:n.mainCardList.map((function(e,t){return Object(s.jsx)(p,{type:"main",row:t,cards:e,dropEvent:r},t)}))})]})});n(18);var E=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(N,{})})};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(E,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.65c9e794.chunk.js.map